# Live geolocation

Telegram allows sending the live geolocation of a user in a chat, optionally setting a proximity alert.

### Sending live locations

To send a live geolocation, use messages.sendMedia with an inputMediaGeoLive media .

The inputMediaGeoLive allows sending the geolocation as an inputGeoPoint with floating point latitude and longitude, with an optional accuracy_radius in meters.
Clients can also provide a heading, a direction in degrees (1-360) that can be used to indicate the direction of the user, a validity period for the current location, and a proximity_notification_radius .

The sent geolocation should be updated periodically using messages.editMessage at most every period seconds, in order to implement the "live" part of live geolocations.

To stop sharing the location, pass inputGeoPointEmpty as location and set the stopped flag to true in a last messages.editMessage call.

### Receiving live locations

Clients will receive a message with a messageMediaGeoLive, containing the information passed by the sender; when the geolocation message is marked as read, an updateGeoLiveViewed is generated.

Periodically, the geolocation will be updated with updateEditMessage/updateEditChannelMessage updates.

#### Live location previews

A map preview can be generated by passing the received geoPoint to upload.getWebFile, to download an image preview of the map.

- geo_point is generated from the lat , long  accuracy_radius parameters of the geoPoint

- access_hash is the access hash of the geoPoint

- w - Map width in pixels before applying scale; 16-1024

- h - Map height in pixels before applying scale; 16-1024

- zoom - Map zoom level; 13-20

- scale - Map scale; 1-3

The image is then downloaded as specified here Â»

### Proximity alert

If:

- A user sets a proximity_notification_radius when sending a location

- Multiple users share their location within the same chat

- One of the other users comes within proximity_notification_radius meters of the first user, and updates their location accordingly

An updateNewMessage/updateNewChannelMessage is generated for all chat members, containing a messageService with action messageActionGeoProximityReached:

- messageActionGeoProximityReached.to_id is the peer that enabled proximity alerts

- messageActionGeoProximityReached.from_id is the peer that is now in proximity of messageActionGeoProximityReached.to_id

- messageActionGeoProximityReached.distance is the distance between them, in meters

